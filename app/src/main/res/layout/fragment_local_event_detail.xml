<?xml version="1.0" encoding="utf-8"?><!--
LocalEventDetailFragment Layout - Material Design 3

Fragment layout for displaying comprehensive event details with actions.
Provides clear information hierarchy and intuitive interaction patterns.

Features:
- Scrollable content for long descriptions
- Material Design 3 cards for content organization
- Toolbar with action menu
- FAB for primary action (edit)
- Loading and error states
- All-day event indicators
- Accessibility support
- Responsive layout design
-->
<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:fitsSystemWindows="true">

    <!-- App Bar Layout -->
    <com.google.android.material.appbar.AppBarLayout
        android:id="@+id/app_bar_layout"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:fitsSystemWindows="true">

        <!-- Toolbar -->
        <com.google.android.material.appbar.MaterialToolbar
            android:id="@+id/toolbar_event_detail"
            android:layout_width="match_parent"
            android:layout_height="?attr/actionBarSize"
            app:layout_scrollFlags="scroll|enterAlways|snap"
            app:menu="@menu/menu_event_detail"
            app:navigationIcon="@drawable/ic_rounded_arrow_back_24"
            app:title="@string/detail_event_title"
            app:titleTextAppearance="?attr/textAppearanceHeadline6" />

    </com.google.android.material.appbar.AppBarLayout>

    <!-- Main Content -->
    <androidx.core.widget.NestedScrollView
        android:id="@+id/nested_scroll_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:fillViewport="true"
        app:layout_behavior="@string/appbar_scrolling_view_behavior">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="@dimen/spacing_l">

            <!-- Event Title Card -->
            <com.google.android.material.card.MaterialCardView
                android:id="@+id/title_card"
                style="@style/Widget.Material3.CardView.Elevated"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="@dimen/spacing_m"
                app:cardCornerRadius="@dimen/card_corner_radius"
                app:cardElevation="@dimen/card_elevation">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="@dimen/spacing_l">

                    <!-- Event Title -->
                    <TextView
                        android:id="@+id/event_title_text"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:ellipsize="end"
                        android:maxLines="3"
                        android:textAppearance="?attr/textAppearanceHeadline5"
                        android:textColor="?attr/colorOnSurface"
                        tools:text="Weekly Team Meeting" />

                    <!-- Event Type and Priority -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/spacing_s"
                        android:gravity="center_vertical"
                        android:orientation="horizontal">

                        <!-- Event Type Chip -->
                        <com.google.android.material.chip.Chip
                            android:id="@+id/event_type_chip"
                            style="@style/Widget.Material3.Chip.Assist"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_marginEnd="@dimen/spacing_s"
                            tools:text="Work" />

                        <!-- Priority Indicator -->
                        <com.google.android.material.chip.Chip
                            android:id="@+id/priority_chip"
                            style="@style/Widget.Material3.Chip.Assist"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            tools:text="High Priority" />

                        <View
                            android:layout_width="0dp"
                            android:layout_height="1dp"
                            android:layout_weight="1" />

                        <!-- All-day Indicator -->
                        <com.google.android.material.chip.Chip
                            android:id="@+id/all_day_chip"
                            style="@style/Widget.Material3.Chip.Filter"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="@string/all_day"
                            android:visibility="gone"
                            tools:visibility="visible" />

                    </LinearLayout>

                </LinearLayout>

            </com.google.android.material.card.MaterialCardView>

            <!-- Date and Time Card -->
            <com.google.android.material.card.MaterialCardView
                android:id="@+id/datetime_card"
                style="@style/Widget.Material3.CardView.Elevated"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="@dimen/spacing_m"
                app:cardCornerRadius="@dimen/card_corner_radius"
                app:cardElevation="@dimen/card_elevation">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="@dimen/spacing_l">

                    <!-- Section Header -->
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="@dimen/spacing_m"
                        android:text="@string/text_date_and_time"
                        android:textAppearance="?attr/textAppearanceSubtitle1"
                        android:textColor="?attr/colorPrimary" />

                    <!-- Date Row -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="@dimen/spacing_s"
                        android:gravity="center_vertical"
                        android:orientation="horizontal">

                        <ImageView
                            android:layout_width="24dp"
                            android:layout_height="24dp"
                            android:layout_marginEnd="@dimen/spacing_m"
                            android:contentDescription="@string/text_date"
                            android:src="@drawable/ic_rounded_calendar_today_24"
                            app:tint="?attr/colorOnSurfaceVariant" />

                        <TextView
                            android:id="@+id/event_date_text"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:textAppearance="?attr/textAppearanceBodyLarge"
                            android:textColor="?attr/colorOnSurface"
                            tools:text="Monday, September 15, 2025" />

                    </LinearLayout>

                    <!-- Time Row (hidden for all-day events) -->
                    <LinearLayout
                        android:id="@+id/time_container"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:gravity="center_vertical"
                        android:orientation="horizontal">

                        <ImageView
                            android:layout_width="24dp"
                            android:layout_height="24dp"
                            android:layout_marginEnd="@dimen/spacing_m"
                            android:contentDescription="@string/text_hour"
                            android:src="@drawable/ic_rounded_timer_24"
                            app:tint="?attr/colorOnSurfaceVariant" />

                        <TextView
                            android:id="@+id/event_time_text"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:textAppearance="?attr/textAppearanceBodyLarge"
                            android:textColor="?attr/colorOnSurface"
                            tools:text="9:00 AM - 10:00 AM" />

                    </LinearLayout>

                </LinearLayout>

            </com.google.android.material.card.MaterialCardView>

            <!-- Location Card (shown only if location exists) -->
            <com.google.android.material.card.MaterialCardView
                android:id="@+id/location_card"
                style="@style/Widget.Material3.CardView.Elevated"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="@dimen/spacing_m"
                android:visibility="gone"
                app:cardCornerRadius="@dimen/card_corner_radius"
                app:cardElevation="@dimen/card_elevation"
                tools:visibility="visible">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="@dimen/spacing_l">

                    <!-- Section Header -->
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="@dimen/spacing_m"
                        android:text="@string/location"
                        android:textAppearance="?attr/textAppearanceSubtitle1"
                        android:textColor="?attr/colorPrimary" />

                    <!-- Location Row -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:gravity="center_vertical"
                        android:orientation="horizontal">

                        <ImageView
                            android:layout_width="24dp"
                            android:layout_height="24dp"
                            android:layout_marginEnd="@dimen/spacing_m"
                            android:src="@drawable/ic_rounded_location_on_24"
                            android:contentDescription="@string/text_location"
                            app:tint="?attr/colorOnSurfaceVariant" />

                        <TextView
                            android:id="@+id/event_location_text"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:textAppearance="?attr/textAppearanceBodyLarge"
                            android:textColor="?attr/colorOnSurface"
                            android:textIsSelectable="true"
                            tools:text="Conference Room A, Building 1" />

                    </LinearLayout>

                </LinearLayout>

            </com.google.android.material.card.MaterialCardView>

            <!-- Description Card (shown only if description exists) -->
            <com.google.android.material.card.MaterialCardView
                android:id="@+id/description_card"
                style="@style/Widget.Material3.CardView.Elevated"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="@dimen/spacing_m"
                android:visibility="gone"
                app:cardCornerRadius="@dimen/card_corner_radius"
                app:cardElevation="@dimen/card_elevation"
                tools:visibility="visible">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="@dimen/spacing_l">

                    <!-- Section Header -->
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="@dimen/spacing_m"
                        android:text="@string/text_description"
                        android:textAppearance="?attr/textAppearanceSubtitle1"
                        android:textColor="?attr/colorPrimary" />

                    <!-- Description Text -->
                    <TextView
                        android:id="@+id/event_description_text"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:lineSpacingExtra="4dp"
                        android:textAppearance="?attr/textAppearanceBodyMedium"
                        android:textColor="?attr/colorOnSurface"
                        android:textIsSelectable="true"
                        tools:text="Weekly team meeting to discuss project progress, upcoming deadlines, and any blockers. Please come prepared with your status updates." />

                </LinearLayout>

            </com.google.android.material.card.MaterialCardView>

            <!-- Quick Actions Card -->
            <com.google.android.material.card.MaterialCardView
                android:id="@+id/actions_card"
                style="@style/Widget.Material3.CardView.Elevated"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="@dimen/spacing_xl"
                app:cardCornerRadius="@dimen/card_corner_radius"
                app:cardElevation="@dimen/card_elevation">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="@dimen/spacing_l">

                    <!-- Section Header -->
                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="@dimen/spacing_m"
                        android:text="@string/action_actions"
                        android:textAppearance="?attr/textAppearanceSubtitle1"
                        android:textColor="?attr/colorPrimary" />

                    <!-- Actions Row 1 -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="@dimen/spacing_s"
                        android:orientation="horizontal">

                        <!-- Edit Button -->
                        <com.google.android.material.button.MaterialButton
                            android:id="@+id/edit_event_button"
                            style="@style/Widget.Material3.Button.OutlinedButton"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_marginEnd="@dimen/spacing_s"
                            android:layout_weight="1"
                            android:text="@string/action_edit"
                            app:icon="@drawable/ic_rounded_edit_24" />

                        <!-- Duplicate Button -->
                        <com.google.android.material.button.MaterialButton
                            android:id="@+id/duplicate_event_button"
                            style="@style/Widget.Material3.Button.OutlinedButton"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_marginStart="@dimen/spacing_s"
                            android:layout_weight="1"
                            android:text="@string/action_duplicate"
                            app:icon="@drawable/ic_rounded_content_copy_24" />

                    </LinearLayout>

                    <!-- Actions Row 2 -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginBottom="@dimen/spacing_s"
                        android:orientation="horizontal">

                        <!-- Export Button -->
                        <com.google.android.material.button.MaterialButton
                            android:id="@+id/export_event_button"
                            style="@style/Widget.Material3.Button.OutlinedButton"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_marginEnd="@dimen/spacing_s"
                            android:layout_weight="1"
                            android:text="@string/action_export"
                            app:icon="@drawable/ic_rounded_file_export_24" />

                        <!-- Share Button -->
                        <com.google.android.material.button.MaterialButton
                            android:id="@+id/share_event_button"
                            style="@style/Widget.Material3.Button.OutlinedButton"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_marginStart="@dimen/spacing_s"
                            android:layout_weight="1"
                            android:text="@string/action_share"
                            app:icon="@drawable/ic_rounded_share_24" />

                    </LinearLayout>

                    <!-- Delete Button (separate, destructive action) -->
                    <com.google.android.material.button.MaterialButton
                        android:id="@+id/delete_event_button"
                        style="@style/Widget.Material3.Button.TextButton"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/spacing_s"
                        android:text="@string/action_delete"
                        android:textColor="?attr/colorError"
                        app:icon="@drawable/ic_rounded_delete_24"
                        app:iconTint="?attr/colorError" />

                </LinearLayout>

            </com.google.android.material.card.MaterialCardView>

        </LinearLayout>

    </androidx.core.widget.NestedScrollView>

    <!-- Loading State -->
    <FrameLayout
        android:id="@+id/loading_state_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="?attr/colorSurface"
        android:visibility="gone"
        app:layout_behavior="@string/appbar_scrolling_view_behavior"
        tools:visibility="gone">

        <LinearLayout
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:gravity="center"
            android:orientation="vertical">

            <com.google.android.material.progressindicator.CircularProgressIndicator
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:indeterminate="true" />

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="@dimen/spacing_m"
                android:text="@string/loading_event_details"
                android:textAppearance="?attr/textAppearanceBodyMedium"
                android:textColor="?attr/colorOnSurfaceVariant" />

        </LinearLayout>

    </FrameLayout>

    <!-- Error State -->
    <LinearLayout
        android:id="@+id/error_state_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="?attr/colorSurface"
        android:gravity="center"
        android:orientation="vertical"
        android:padding="@dimen/spacing_xl"
        android:visibility="gone"
        app:layout_behavior="@string/appbar_scrolling_view_behavior"
        tools:visibility="gone">

        <ImageView
            android:layout_width="96dp"
            android:layout_height="96dp"
            android:layout_marginBottom="@dimen/spacing_l"
            android:src="@drawable/ic_rounded_error_24"
            android:contentDescription="@string/text_error"
            app:tint="?attr/colorError" />

        <TextView
            android:id="@+id/error_message_text"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="@dimen/spacing_l"
            android:textAlignment="center"
            android:textAppearance="?attr/textAppearanceBodyLarge"
            android:textColor="?attr/colorOnSurface"
            tools:text="Event not found or has been deleted." />

        <com.google.android.material.button.MaterialButton
            android:id="@+id/retry_button"
            style="@style/Widget.Material3.Button.OutlinedButton"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/action_retry"
            app:icon="@drawable/ic_rounded_refresh_24" />

    </LinearLayout>

    <!-- Floating Action Button -->
    <com.google.android.material.floatingactionbutton.FloatingActionButton
        android:id="@+id/fab_edit_event"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="bottom|end"
        android:layout_margin="@dimen/spacing_l"
        android:contentDescription="@string/action_edit"
        android:src="@drawable/ic_rounded_edit_24"
        app:srcCompat="@drawable/ic_rounded_edit_24" />

</androidx.coordinatorlayout.widget.CoordinatorLayout>